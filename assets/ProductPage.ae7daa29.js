import{t as a,u as i,v as l,C as c,j as n,Q as m,ax as p,ay as Q,au as o,av as _,F as b,y as g,z as d,B as k}from"./index.7b943df6.js";import{Q as D,a as h,b as P,c as w,d as L}from"./QTable.7fb05223.js";import{Q as y}from"./QBadge.8819548f.js";import{Q as S}from"./QPage.129efe71.js";import{u as T}from"./cart.d29c6492.js";import{_ as V}from"./plugin-vue_export-helper.21dcd24c.js";import"./QList.a15d437e.js";import"./QMarkupTable.cca1ab89.js";import"./QItem.d19c33b6.js";import"./QItemLabel.d416a71d.js";import"./QMenu.ba08303c.js";import"./axios.9ba805d2.js";const f=T(),x={name:"ProductPage",setup(){return{columns:[{name:"sn",label:"\u7522\u54C1SN",align:"left",field:"sn",sortable:!0},{name:"name",label:"\u7522\u54C1\u540D\u7A31",align:"left",field:"name",sortable:!0},{name:"description",align:"left",label:"\u7522\u54C1\u63CF\u8FF0",field:"description",sortable:!0},{name:"price",align:"right",label:"\u7522\u54C1\u50F9\u683C(USD)",field:"price",sortable:!0},{name:"state",align:"right",label:"\u72C0\u614B",field:"state",sortable:!0},{name:"releaseDate",align:"right",label:"\u6700\u5FEB\u91CB\u653E\u65E5\u671F",field:"releaseDate",sortable:!0},{name:"arriveDate",align:"right",label:"\u6700\u5FEB\u5230\u6E2F\u65E5\u671F",field:"arriveDate",sortable:!0},{name:"method",align:"right",label:"\u64CD\u4F5C",field:"method",sortable:!1}],cart:f,initialPagination:{sortBy:"desc",rowsPerPage:50}}},data(){return{defaultLocation:0,productStateColor:{available:"blue",reserved:"orange"}}},methods:{setFilter(){f.getProductList()},resetFilter(v){f.productFilter[v]=null,f.getProductList()}}},B={class:"row q-mb-md q-gutter-md"},q={class:"col-3"},N={class:"col-3"},U=c("div",{class:"text-center"},"ADD TO CART",-1),I=c("div",{class:"text-center"},"Cancel",-1),M={key:2},O={key:3},A=["innerHTML"],H={key:5},j={key:6},z={key:7};function E(v,r,R,s,C,u){return a(),i(S,{padding:""},{default:l(()=>[c("div",B,[c("div",q,[n(Q,{filled:"",type:"search",label:"\u641C\u5C0B",modelValue:s.cart.productFilter.search,"onUpdate:modelValue":[r[1]||(r[1]=t=>s.cart.productFilter.search=t),r[2]||(r[2]=t=>u.setFilter())],onClear:r[3]||(r[3]=t=>u.resetFilter("search"))},{prepend:l(()=>[n(m,{name:"search"})]),append:l(()=>[n(m,{name:"close",onClick:r[0]||(r[0]=p(t=>u.resetFilter("search"),["stop","prevent"])),class:"cursor-pointer"})]),_:1},8,["modelValue"])]),c("div",N,[n(D,{color:"orange",filled:"",options:s.cart.locationOption,label:"\u5009\u5EAB",modelValue:s.cart.productFilter.warehouses,"onUpdate:modelValue":[r[5]||(r[5]=t=>s.cart.productFilter.warehouses=t),r[6]||(r[6]=t=>u.setFilter())]},{append:l(()=>[n(m,{name:"close",onClick:r[4]||(r[4]=p(t=>u.resetFilter("warehouses"),["stop","prevent"])),class:"cursor-pointer"})]),_:1},8,["options","modelValue"])])]),n(P,{flat:"",rows:s.cart.products,columns:s.columns,"row-key":"sn",pagination:s.initialPagination},{header:l(t=>[n(h,{props:t},{default:l(()=>[(a(!0),o(b,null,_(t.cols,e=>(a(),i(w,{key:e.name,props:t},{default:l(()=>[g(d(e.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:l(t=>[n(h,{props:t},{default:l(()=>[(a(!0),o(b,null,_(t.cols,e=>(a(),i(L,{key:e.name,props:t},{default:l(()=>[e.name==="method"&&!e.value.inList?(a(),i(k,{key:0,color:"red",onClick:p(F=>s.cart.updateList(e.value.sn),["prevent"])},{default:l(()=>[n(m,{left:"",name:"add"}),U]),_:2},1032,["onClick"])):e.name==="method"&&e.value.inList?(a(),i(k,{key:1,color:"red",outline:"",onClick:p(F=>s.cart.removeItem(e.value.sn),["prevent"])},{default:l(()=>[n(m,{left:"",name:"delete"}),I]),_:2},1032,["onClick"])):e.name==="sn"?(a(),o("span",M,"#"+d(e.value),1)):e.name==="price"?(a(),o("span",O,"USD$"+d(e.value),1)):e.name==="description"?(a(),o("div",{key:4,innerHTML:e.value},null,8,A)):e.name==="state"?(a(),o("div",H,[e.value!==void 0?(a(),i(y,{key:0,color:C.productStateColor[e.value],class:"q-pa-sm"},{default:l(()=>[g(d(s.cart.productOptions.productState[e.value]),1)]),_:2},1032,["color"])):(a(),i(y,{key:1,color:"grey",class:"q-pa-sm"},{default:l(()=>[g("\u672A\u77E5")]),_:1}))])):e.name==="releaseDate"||e.name==="arriveDate"?(a(),o("span",j,d(s.cart.formateDate(e.value)),1)):(a(),o("span",z,d(e.value),1))]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),_:1},8,["rows","columns","pagination"])]),_:1})}var le=V(x,[["render",E]]);export{le as default};
