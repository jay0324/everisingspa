import{i as xe,aB as Le,k as re,X as Oe,Y as X,Z as Fe,_ as He,r as D,c as _,$ as Ve,a0 as te,a1 as Ne,a2 as Ae,a3 as Be,w as ae,p as oe,R as se,O as ue,a8 as Ee,h as y,aa as ke,g as Ce,l as we,L as Ie,ae as Me,o as Re,aC as ze,aD as Y,u as l,v,x as s,y as k,j as i,aE as I,aF as Z,aG as je,C as de,ay as f,az as ce,F as me,aH as ge,aI as M,D as $,Q as q,aJ as fe,z as A,aK as Ue,A as x,aL as We,aM as Ge}from"./index.8f566195.js";import{Q as Ke,a as Je,b as ve,c as Xe,d as Ye}from"./QTable.3108ca06.js";import{Q as Ze}from"./QBanner.95e31573.js";import{u as $e,v as he,a as et,p as ye,b as tt,c as at,r as _e,s as rt,d as Se,e as nt}from"./QMenu.b2432462.js";import{Q as pe}from"./QBadge.d417cfcb.js";import{Q as lt}from"./QPage.c927d305.js";import{C as ee}from"./ClosePopup.b47ab516.js";import{u as it,d as ot}from"./cart.98fe076f.js";import{u as st}from"./preference.ba4e2f81.js";import{_ as ut}from"./plugin-vue_export-helper.21dcd24c.js";import"./QList.165da252.js";import"./QMarkupTable.6f3f175c.js";import"./QItem.7bbcd497.js";import"./QItemLabel.37e474ae.js";import"./axios.e81d5921.js";import"./auth.9b324b03.js";function dt(){return xe(Le)}var ct=re({name:"QTooltip",inheritAttrs:!1,props:{...$e,...Oe,...X,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...X.transitionShow,default:"jump-down"},transitionHide:{...X.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:he},self:{type:String,default:"top middle",validator:he},offset:{type:Array,default:()=>[14,14],validator:et},scrollTarget:Fe,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...He],setup(e,{slots:a,emit:d,attrs:o}){let m,u;const n=Ce(),{proxy:{$q:t}}=n,S=D(null),P=D(!1),F=_(()=>ye(e.anchor,t.lang.rtl)),R=_(()=>ye(e.self,t.lang.rtl)),p=_(()=>e.persistent!==!0),{registerTick:b,removeTick:L}=Ve(),{registerTimeout:C}=te(),{transitionProps:z,transitionStyle:j}=Ne(e),{localScrollTarget:B,changeScrollEvent:U,unconfigureScrollTarget:W}=tt(e,le),{anchorEl:g,canShow:G,anchorEvents:T}=at({showing:P,configureAnchorEl:Pe}),{show:K,hide:H}=Ae({showing:P,canShow:G,handleShow:w,handleHide:O,hideOnRouteChange:p,processOnMount:!0});Object.assign(T,{delayShow:Te,delayHide:De});const{showPortal:V,hidePortal:E,renderPortal:r}=Be(n,S,qe,"tooltip");if(t.platform.is.mobile===!0){const c={anchorEl:g,innerRef:S,onClickOutside(Q){return H(Q),Q.target.classList.contains("q-dialog__backdrop")&&Ie(Q),!0}},J=_(()=>e.modelValue===null&&e.persistent!==!0&&P.value===!0);ae(J,Q=>{(Q===!0?nt:_e)(c)}),oe(()=>{_e(c)})}function w(c){V(),b(()=>{u=new MutationObserver(()=>N()),u.observe(S.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),N(),le()}),m===void 0&&(m=ae(()=>t.screen.width+"|"+t.screen.height+"|"+e.self+"|"+e.anchor+"|"+t.lang.rtl,N)),C(()=>{V(!0),d("show",c)},e.transitionDuration)}function O(c){L(),E(),ne(),C(()=>{E(!0),d("hide",c)},e.transitionDuration)}function ne(){u!==void 0&&(u.disconnect(),u=void 0),m!==void 0&&(m(),m=void 0),W(),se(T,"tooltipTemp")}function N(){rt({targetEl:S.value,offset:e.offset,anchorEl:g.value,anchorOrigin:F.value,selfOrigin:R.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function Te(c){if(t.platform.is.mobile===!0){Se(),document.body.classList.add("non-selectable");const J=g.value,Q=["touchmove","touchcancel","touchend","click"].map(ie=>[J,ie,"delayHide","passiveCapture"]);ue(T,"tooltipTemp",Q)}C(()=>{K(c)},e.delay)}function De(c){t.platform.is.mobile===!0&&(se(T,"tooltipTemp"),Se(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),C(()=>{H(c)},e.hideDelay)}function Pe(){if(e.noParentEvent===!0||g.value===null)return;const c=t.platform.is.mobile===!0?[[g.value,"touchstart","delayShow","passive"]]:[[g.value,"mouseenter","delayShow","passive"],[g.value,"mouseleave","delayHide","passive"]];ue(T,"anchor",c)}function le(){if(g.value!==null||e.scrollTarget!==void 0){B.value=Ee(g.value,e.scrollTarget);const c=e.noParentEvent===!0?N:H;U(B.value,c)}}function Qe(){return P.value===!0?y("div",{...o,ref:S,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",o.class],style:[o.style,j.value],role:"tooltip"},we(a.default)):null}function qe(){return y(ke,z.value,Qe)}return oe(ne),Object.assign(n.proxy,{updatePosition:N}),r}});const mt={ratio:[String,Number]};function gt(e,a){return _(()=>{const d=Number(e.ratio||(a!==void 0?a.value:void 0));return isNaN(d)!==!0&&d>0?{paddingBottom:`${100/d}%`}:null})}const ft=1.7778;var vt=re({name:"QImg",props:{...mt,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:ft},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:a,emit:d}){const o=D(e.initialRatio),m=gt(e,o),u=Ce(),{registerTimeout:n,removeTimeout:t}=te(),{registerTimeout:S,removeTimeout:P}=te(),F=_(()=>e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null),R=_(()=>e.errorSrc!==void 0?{src:e.errorSrc,__qerror:!0}:null),p=[D(null),D(F.value)],b=D(0),L=D(!1),C=D(!1),z=_(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),j=_(()=>({width:e.width,height:e.height})),B=_(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition q-img__image--`),U=_(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));function W(){if(P(),e.loadingShowDelay===0){L.value=!0;return}S(()=>{L.value=!0},e.loadingShowDelay)}function g(){P(),L.value=!1}function G({target:r}){Y(u)===!1&&(t(),o.value=r.naturalHeight===0?.5:r.naturalWidth/r.naturalHeight,T(r,1))}function T(r,w){w===1e3||Y(u)===!0||(r.complete===!0?K(r):n(()=>{T(r,w+1)},50))}function K(r){Y(u)!==!0&&(b.value=b.value^1,p[b.value].value=null,g(),r.getAttribute("__qerror")!=="true"&&(C.value=!1),d("load",r.currentSrc||r.src))}function H(r){t(),g(),C.value=!0,p[b.value].value=R.value,p[b.value^1].value=F.value,d("error",r)}function V(r){const w=p[r].value,O={key:"img_"+r,class:B.value,style:U.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...w};return b.value===r?Object.assign(O,{class:O.class+"current",onLoad:G,onError:H}):O.class+="loaded",y("div",{class:"q-img__container absolute-full",key:"img"+r},y("img",O))}function E(){return L.value===!1?y("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},we(a[C.value===!0?"error":"default"])):y("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},a.loading!==void 0?a.loading():e.noSpinner===!0?void 0:[y(ze,{color:e.spinnerColor,size:e.spinnerSize})])}{let r=function(){ae(()=>e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null,w=>{t(),C.value=!1,w===null?(g(),p[b.value^1].value=F.value):W(),p[b.value].value=w},{immediate:!0})};Me.value===!0?Re(r):r()}return()=>{const r=[];return m.value!==null&&r.push(y("div",{key:"filler",style:m.value})),p[0].value!==null&&r.push(V(0)),p[1].value!==null&&r.push(V(1)),r.push(y(ke,{name:"q-transition--fade"},E)),y("div",{key:"main",class:z.value,style:j.value,role:"img","aria-label":e.alt},r)}}});const ht=y("div",{class:"q-space"});var be=re({name:"QSpace",setup(){return()=>ht}});const h=it(),yt=st(),_t={name:"ProductPage",setup(){return dt(),yt.loaderTrigger("pageLoader"),{columns:[{name:"thumb",label:"Thumb",align:"left",field:"thumb",sortable:!1},{name:"sn",label:"SN No.",align:"left",field:"sn",sortable:!0},{name:"name",label:"Name",align:"left",field:"name",sortable:!0},{name:"description",align:"left",label:"Description",field:"description",sortable:!0},{name:"price",align:"right",label:"Price",field:"price",sortable:!0},{name:"state",align:"right",label:"State",field:"state",sortable:!0},{name:"releaseDate",align:"right",label:"Release Date",field:"releaseDate",sortable:!0},{name:"arriveDate",align:"right",label:"Arrived Date",field:"arriveDate",sortable:!0},{name:"specUrl",align:"right",label:"Spec.",field:"specUrl",sortable:!1},{name:"method",align:"right",label:"Operation",field:"method",sortable:!1}],cart:h,initialPagination:{sortBy:"desc",rowsPerPage:50}}},data(){return{defaultLocation:0,productStateColor:{reserved:"orange",inquiry:"blue"},enlargeDialog:!1,enlargeImg:""}},async mounted(){h.locationOption.length===0&&await h.getWarehouseList(),h.productFilter.warehouses==null&&(h.productFilter.warehouses=h.locationOption[0]),h.getProductList()},methods:{setFilter(){h.getProductList()},resetFilter(e){h.productFilter[e]=null,h.getProductList()},checkPrice(e){return e?`${e}`:"--"},dotdot(e,a=10){if(!e)return"--";let d=this.stripHtml(e);return d.length==0||!this.hasContent(e)?"--":d.substr(0,a)+"..."},stripHtml(e){let a=document.createElement("DIV");return a.innerHTML=e,a.textContent||a.innerText||""},hasContent(e){return!(!e||this.stripHtml(e).length==0)},enlarge(e){this.enlargeDialog=!0,this.enlargeImg=e},addToCart(e){h.checkWarehouse(e,h.productFilter.warehouses)},checkSn(e){return e?`#${e}`:"--"},setColor(e){let a=Date.now();return ot.isValid(e)&&new Date(e)>a?"text-red":""}}},St={class:"row q-mb-md q-gutter-md"},pt={class:"col-3"},bt={class:"col-3"},kt=k("div",{class:"q-pa-md"},"No products",-1),Ct=k("div",{class:"text-center"},"ADD TO CART",-1),wt=k("div",{class:"text-center"},"Cancel",-1),Tt={key:2},Dt={key:3},Pt={key:4},Qt={key:5},qt=["innerHTML"],xt={key:6},Lt={key:8},Ot={key:1},Ft={key:9},Ht={key:1},Vt={key:10},Nt=k("div",{class:"text-h6"},null,-1),At=["src"],Bt=k("div",{class:"text-h6"},"Add to your cart",-1);function Et(e,a,d,o,m,u){return l(),v(lt,{padding:"",class:"q-pb-none"},{default:s(()=>[k("div",St,[k("div",pt,[i(je,{filled:"",type:"search",label:"Search",modelValue:o.cart.productFilter.search,"onUpdate:modelValue":[a[1]||(a[1]=n=>o.cart.productFilter.search=n),a[2]||(a[2]=n=>u.setFilter())],onClear:a[3]||(a[3]=n=>u.resetFilter("search"))},{prepend:s(()=>[i(I,{name:"search"})]),append:s(()=>[i(I,{name:"close",onClick:a[0]||(a[0]=Z(n=>u.resetFilter("search"),["stop","prevent"])),class:"cursor-pointer"})]),_:1},8,["modelValue"])]),k("div",bt,[i(Ke,{color:"orange",filled:"",options:o.cart.locationOption,label:"Warehouses",modelValue:o.cart.productFilter.warehouses,"onUpdate:modelValue":[a[4]||(a[4]=n=>o.cart.productFilter.warehouses=n),a[5]||(a[5]=n=>u.setFilter())]},null,8,["options","modelValue"])])]),i(de),o.cart.products.length===0?(l(),v(Ze,{key:0,rounded:"",class:"bg-red text-white text-center"},{default:s(()=>[kt]),_:1})):(l(),v(Je,{key:1,flat:"",rows:o.cart.products,columns:o.columns,"row-key":"sn",pagination:o.initialPagination,class:"my-sticky-header-table"},{header:s(n=>[i(ve,{props:n},{default:s(()=>[(l(!0),f(me,null,ce(n.cols,t=>(l(),v(Xe,{key:t.name,props:n},{default:s(()=>[A(x(t.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:s(n=>[i(ve,{props:n},{default:s(()=>[(l(!0),f(me,null,ce(n.cols,t=>(l(),v(Ye,{key:t.name,props:n},{default:s(()=>[t.name==="method"&&!t.value.inList&&t.value.released?(l(),v(q,{key:0,color:"red",onClick:Z(S=>u.addToCart(t.value.sn_id),["prevent"])},{default:s(()=>[i(I,{left:"",name:"add"}),Ct]),_:2},1032,["onClick"])):t.name==="method"&&t.value.inList&&t.value.released?(l(),v(q,{key:1,color:"red",outline:"",onClick:Z(S=>o.cart.removeItem(t.value.id),["prevent"])},{default:s(()=>[i(I,{left:"",name:"delete"}),wt]),_:2},1032,["onClick"])):t.name==="method"&&!t.value.released?(l(),f("span",Tt," -- ")):t.name==="sn"?(l(),f("span",Dt,x(u.checkSn(t.value)),1)):t.name==="price"?(l(),f("span",Pt,x(u.checkPrice(t.value)),1)):t.name==="description"?(l(),f("div",Qt,[A(x(u.dotdot(t.value))+" ",1),u.hasContent(t.value)?(l(),v(ct,{key:0},{default:s(()=>[k("div",{innerHTML:t.value},null,8,qt)]),_:2},1024)):We("",!0)])):t.name==="state"?(l(),f("div",xt,[t.value!==void 0?(l(),v(pe,{key:0,color:m.productStateColor[t.value],class:"q-pa-sm"},{default:s(()=>[A(x(o.cart.productOptions.productState[t.value]),1)]),_:2},1032,["color"])):(l(),v(pe,{key:1,color:"grey",class:"q-pa-sm"},{default:s(()=>[A("Unknow")]),_:1}))])):t.name==="releaseDate"||t.name==="arriveDate"?(l(),f("span",{key:7,class:Ge(u.setColor(o.cart.formateDate(t.value)))},x(o.cart.formateDate(t.value)),3)):t.name==="specUrl"?(l(),f("div",Lt,[t.value?(l(),v(q,{key:0,"no-caps":"",color:"primary",href:t.value,target:"_blank",icon:"description"},null,8,["href"])):(l(),f("span",Ot,"--"))])):t.name==="thumb"?(l(),f("div",Ft,[t.value?(l(),v(vt,{key:0,src:t.value,"spinner-color":"white",style:{height:"50px"},onClick:S=>u.enlarge(t.value)},null,8,["src","onClick"])):(l(),f("span",Ht,"--"))])):(l(),f("span",Vt,x(t.value),1))]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),_:1},8,["rows","columns","pagination"])),i(fe,{modelValue:m.enlargeDialog,"onUpdate:modelValue":a[6]||(a[6]=n=>m.enlargeDialog=n)},{default:s(()=>[i(ge,null,{default:s(()=>[i(M,{class:"row items-center q-pb-none"},{default:s(()=>[Nt,i(be),$(i(q,{icon:"close",flat:"",round:"",dense:""},null,512),[[ee]])]),_:1}),i(M,null,{default:s(()=>[k("img",{src:m.enlargeImg},null,8,At)]),_:1})]),_:1})]),_:1},8,["modelValue"]),i(fe,{modelValue:o.cart.addCartDialog,"onUpdate:modelValue":a[9]||(a[9]=n=>o.cart.addCartDialog=n)},{default:s(()=>[i(ge,{style:{width:"700px","max-width":"80vw"}},{default:s(()=>[i(M,{class:"row items-center q-pb-none"},{default:s(()=>[Bt,i(be),$(i(q,{icon:"close",flat:"",round:"",dense:""},null,512),[[ee]])]),_:1}),i(M,null,{default:s(()=>[A(" Item Added ")]),_:1}),i(de),i(Ue,{align:"between"},{default:s(()=>[$(i(q,{label:"Checkout More",color:"primary","no-caps":"",onClick:a[7]||(a[7]=n=>o.cart.resetAddCartDialog())},null,512),[[ee]]),i(q,{label:"Go To Checkout",color:"red",to:"order_list","no-caps":"",onClick:a[8]||(a[8]=n=>o.cart.resetAddCartDialog())})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}var aa=ut(_t,[["render",Et]]);export{aa as default};
