import{a as g,b as k,c as v,d as O}from"./QTable.0f85fd19.js";import{au as _,t as a,u as i,v as r,j as s,av as n,aw as b,F as d,y as h,z as u,B as m}from"./index.8efac6e0.js";import{Q as C}from"./QMenu.a7d2cb89.js";import{Q}from"./QPage.ae19d16a.js";import{u as B}from"./cart.c831ef72.js";import{_ as x}from"./plugin-vue_export-helper.21dcd24c.js";import"./QList.b838df3b.js";import"./QMarkupTable.46d6676c.js";import"./QItem.246fac4c.js";import"./QItemLabel.a3ac70d2.js";import"./axios.8d0996e9.js";import"./auth.1667e469.js";const c=B(),f=c.productOptions,w={name:"OrderHistoryPage",setup(){return{columns:[{name:"no",label:"Order No.",align:"left",field:"no"},{name:"state",align:"left",label:"State",field:"state",sortable:!0},{name:"status",align:"left",label:"Status",field:"status",sortable:!0},{name:"location",align:"left",label:"Warehouse",field:"location",sortable:!0},{name:"contact",align:"left",label:"Contact Info.",field:"contact"},{name:"method",align:"right",label:"Operation",field:"method"}],cart:c}},data(){return{state:f.state,status:f.warehouseType.list,location:f.location}},methods:{stateBadge(e){return c.colorSchema.type.state},convertMessage(e){return e.field==="state"?this.state[e.value]:e.field==="status"?this.status[e.value]:e.field==="location"?this.location[e.value]:e.value},convertColor(e){return e.value===1?"text-red":"text-blue"},cancelOrder(e){c.cancelOrder(e),_.create({message:"Order Canceled",color:"red"})},confirmedOrder(e){c.confirmOrder(e),_.create({message:"Order Comfirmed",color:"blue"})}}},T={key:2},S={key:3};function q(e,N,H,p,M,l){return a(),i(Q,{padding:""},{default:r(()=>[s(k,{flat:"",rows:p.cart.orderHistory,columns:p.columns,"row-key":"name"},{header:r(o=>[s(g,{props:o},{default:r(()=>[(a(!0),n(d,null,b(o.cols,t=>(a(),i(v,{key:t.name,props:o},{default:r(()=>[h(u(t.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:r(o=>[s(g,{props:o},{default:r(()=>[(a(!0),n(d,null,b(o.cols,t=>(a(),i(O,{key:t.name,props:o},{default:r(()=>[t.name==="method"?(a(),n(d,{key:0},[s(m,{color:"grey",label:"Detail",class:"q-ma-sm",to:`order_detail/${t.value}`},null,8,["to"]),s(m,{color:"pink",label:"Cancel",class:"q-ma-sm",onClick:y=>l.cancelOrder(t.value)},null,8,["onClick"]),s(m,{color:"blue-9",label:"Confirm",class:"q-ma-sm",onClick:y=>l.confirmedOrder(t.value)},null,8,["onClick"])],64)):t.name==="state"?(a(),i(C,{key:1,class:"q-pa-sm",color:l.stateBadge(t.value)},{default:r(()=>[h(u(l.convertMessage(t)),1)]),_:2},1032,["color"])):t.name==="no"?(a(),n("span",T,"#"+u(t.value),1)):(a(),n("span",S,u(l.convertMessage(t)),1))]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),_:1},8,["rows","columns"])]),_:1})}var J=x(w,[["render",q]]);export{J as default};
