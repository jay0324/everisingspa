import{i as Le,aB as xe,k as re,X as Oe,Y as X,Z as Fe,_ as He,r as P,c as _,$ as Ne,a0 as te,a1 as Ve,a2 as Be,a3 as Ee,w as ae,p as oe,R as se,O as ue,a8 as Ie,h as y,aa as ke,g as we,l as Te,L as Ae,ae as Me,o as Re,aC as je,aD as Y,u as l,v,x as o,y as k,j as i,aE as A,aF as Z,aG as ze,C as de,ay as f,az as ce,F as me,aH as ge,aI as M,D as $,Q as q,aJ as fe,z as B,aK as Ue,A as L,aL as We}from"./index.637eb394.js";import{Q as Ge,a as Ke,b as ve,c as Je,d as Xe}from"./QTable.7c079a93.js";import{Q as Ye}from"./QBanner.24d57e0e.js";import{u as Ze,v as he,a as $e,p as ye,b as et,c as tt,r as _e,s as at,d as pe,e as rt}from"./QMenu.46329393.js";import{Q as Se}from"./QBadge.4e94f268.js";import{Q as nt}from"./QPage.0f122a5a.js";import{C as ee}from"./ClosePopup.435dd9e2.js";import{u as lt}from"./cart.7b6986b9.js";import{u as it}from"./preference.6981d379.js";import{_ as ot}from"./plugin-vue_export-helper.21dcd24c.js";import"./QList.2fe8bd12.js";import"./QMarkupTable.dfbba1ea.js";import"./QItem.cab46aff.js";import"./QItemLabel.206f6df0.js";import"./axios.aa36abe4.js";import"./auth.17262668.js";function st(){return Le(xe)}var ut=re({name:"QTooltip",inheritAttrs:!1,props:{...Ze,...Oe,...X,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...X.transitionShow,default:"jump-down"},transitionHide:{...X.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:he},self:{type:String,default:"top middle",validator:he},offset:{type:Array,default:()=>[14,14],validator:$e},scrollTarget:Fe,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...He],setup(e,{slots:a,emit:c,attrs:s}){let m,u;const n=we(),{proxy:{$q:t}}=n,p=P(null),D=P(!1),F=_(()=>ye(e.anchor,t.lang.rtl)),R=_(()=>ye(e.self,t.lang.rtl)),S=_(()=>e.persistent!==!0),{registerTick:b,removeTick:x}=Ne(),{registerTimeout:w}=te(),{transitionProps:j,transitionStyle:z}=Ve(e),{localScrollTarget:E,changeScrollEvent:U,unconfigureScrollTarget:W}=et(e,le),{anchorEl:g,canShow:G,anchorEvents:C}=tt({showing:D,configureAnchorEl:De}),{show:K,hide:H}=Be({showing:D,canShow:G,handleShow:T,handleHide:O,hideOnRouteChange:S,processOnMount:!0});Object.assign(C,{delayShow:Ce,delayHide:Pe});const{showPortal:N,hidePortal:I,renderPortal:r}=Ee(n,p,qe,"tooltip");if(t.platform.is.mobile===!0){const d={anchorEl:g,innerRef:p,onClickOutside(Q){return H(Q),Q.target.classList.contains("q-dialog__backdrop")&&Ae(Q),!0}},J=_(()=>e.modelValue===null&&e.persistent!==!0&&D.value===!0);ae(J,Q=>{(Q===!0?rt:_e)(d)}),oe(()=>{_e(d)})}function T(d){N(),b(()=>{u=new MutationObserver(()=>V()),u.observe(p.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),V(),le()}),m===void 0&&(m=ae(()=>t.screen.width+"|"+t.screen.height+"|"+e.self+"|"+e.anchor+"|"+t.lang.rtl,V)),w(()=>{N(!0),c("show",d)},e.transitionDuration)}function O(d){x(),I(),ne(),w(()=>{I(!0),c("hide",d)},e.transitionDuration)}function ne(){u!==void 0&&(u.disconnect(),u=void 0),m!==void 0&&(m(),m=void 0),W(),se(C,"tooltipTemp")}function V(){at({targetEl:p.value,offset:e.offset,anchorEl:g.value,anchorOrigin:F.value,selfOrigin:R.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function Ce(d){if(t.platform.is.mobile===!0){pe(),document.body.classList.add("non-selectable");const J=g.value,Q=["touchmove","touchcancel","touchend","click"].map(ie=>[J,ie,"delayHide","passiveCapture"]);ue(C,"tooltipTemp",Q)}w(()=>{K(d)},e.delay)}function Pe(d){t.platform.is.mobile===!0&&(se(C,"tooltipTemp"),pe(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),w(()=>{H(d)},e.hideDelay)}function De(){if(e.noParentEvent===!0||g.value===null)return;const d=t.platform.is.mobile===!0?[[g.value,"touchstart","delayShow","passive"]]:[[g.value,"mouseenter","delayShow","passive"],[g.value,"mouseleave","delayHide","passive"]];ue(C,"anchor",d)}function le(){if(g.value!==null||e.scrollTarget!==void 0){E.value=Ie(g.value,e.scrollTarget);const d=e.noParentEvent===!0?V:H;U(E.value,d)}}function Qe(){return D.value===!0?y("div",{...s,ref:p,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",s.class],style:[s.style,z.value],role:"tooltip"},Te(a.default)):null}function qe(){return y(ke,j.value,Qe)}return oe(ne),Object.assign(n.proxy,{updatePosition:V}),r}});const dt={ratio:[String,Number]};function ct(e,a){return _(()=>{const c=Number(e.ratio||(a!==void 0?a.value:void 0));return isNaN(c)!==!0&&c>0?{paddingBottom:`${100/c}%`}:null})}const mt=1.7778;var gt=re({name:"QImg",props:{...dt,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:mt},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:a,emit:c}){const s=P(e.initialRatio),m=ct(e,s),u=we(),{registerTimeout:n,removeTimeout:t}=te(),{registerTimeout:p,removeTimeout:D}=te(),F=_(()=>e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null),R=_(()=>e.errorSrc!==void 0?{src:e.errorSrc,__qerror:!0}:null),S=[P(null),P(F.value)],b=P(0),x=P(!1),w=P(!1),j=_(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),z=_(()=>({width:e.width,height:e.height})),E=_(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition q-img__image--`),U=_(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));function W(){if(D(),e.loadingShowDelay===0){x.value=!0;return}p(()=>{x.value=!0},e.loadingShowDelay)}function g(){D(),x.value=!1}function G({target:r}){Y(u)===!1&&(t(),s.value=r.naturalHeight===0?.5:r.naturalWidth/r.naturalHeight,C(r,1))}function C(r,T){T===1e3||Y(u)===!0||(r.complete===!0?K(r):n(()=>{C(r,T+1)},50))}function K(r){Y(u)!==!0&&(b.value=b.value^1,S[b.value].value=null,g(),r.getAttribute("__qerror")!=="true"&&(w.value=!1),c("load",r.currentSrc||r.src))}function H(r){t(),g(),w.value=!0,S[b.value].value=R.value,S[b.value^1].value=F.value,c("error",r)}function N(r){const T=S[r].value,O={key:"img_"+r,class:E.value,style:U.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...T};return b.value===r?Object.assign(O,{class:O.class+"current",onLoad:G,onError:H}):O.class+="loaded",y("div",{class:"q-img__container absolute-full",key:"img"+r},y("img",O))}function I(){return x.value===!1?y("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},Te(a[w.value===!0?"error":"default"])):y("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},a.loading!==void 0?a.loading():e.noSpinner===!0?void 0:[y(je,{color:e.spinnerColor,size:e.spinnerSize})])}{let r=function(){ae(()=>e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null,T=>{t(),w.value=!1,T===null?(g(),S[b.value^1].value=F.value):W(),S[b.value].value=T},{immediate:!0})};Me.value===!0?Re(r):r()}return()=>{const r=[];return m.value!==null&&r.push(y("div",{key:"filler",style:m.value})),S[0].value!==null&&r.push(N(0)),S[1].value!==null&&r.push(N(1)),r.push(y(ke,{name:"q-transition--fade"},I)),y("div",{key:"main",class:j.value,style:z.value,role:"img","aria-label":e.alt},r)}}});const ft=y("div",{class:"q-space"});var be=re({name:"QSpace",setup(){return()=>ft}});const h=lt(),vt=it(),ht={name:"ProductPage",setup(){return st(),vt.loaderTrigger("pageLoader"),{columns:[{name:"sn",label:"SN No.",align:"left",field:"sn",sortable:!0},{name:"thumb",label:"Thumb",align:"left",field:"thumb",sortable:!1},{name:"name",label:"Name",align:"left",field:"name",sortable:!0},{name:"description",align:"left",label:"Description",field:"description",sortable:!0},{name:"price",align:"right",label:"Price",field:"price",sortable:!0},{name:"state",align:"right",label:"State",field:"state",sortable:!0},{name:"releaseDate",align:"right",label:"Release Date",field:"releaseDate",sortable:!0},{name:"arriveDate",align:"right",label:"Arrived Date",field:"arriveDate",sortable:!0},{name:"specUrl",align:"right",label:"Spec.",field:"specUrl",sortable:!1},{name:"method",align:"right",label:"Operation",field:"method",sortable:!1}],cart:h,initialPagination:{sortBy:"desc",rowsPerPage:50}}},data(){return{defaultLocation:0,productStateColor:{reserved:"orange",inquiry:"blue"},enlargeDialog:!1,enlargeImg:""}},async mounted(){h.locationOption.length===0&&await h.getWarehouseList(),h.productFilter.warehouses==null&&(h.productFilter.warehouses=h.locationOption[0]),h.getProductList()},methods:{setFilter(){h.getProductList()},resetFilter(e){h.productFilter[e]=null,h.getProductList()},checkPrice(e){return e?`${e}`:"--"},dotdot(e,a=10){if(!e)return"--";let c=this.stripHtml(e);return c.length==0||!this.hasContent(e)?"--":c.substr(0,a)+"..."},stripHtml(e){let a=document.createElement("DIV");return a.innerHTML=e,a.textContent||a.innerText||""},hasContent(e){return!(!e||this.stripHtml(e).length==0)},enlarge(e){this.enlargeDialog=!0,this.enlargeImg=e},addToCart(e){h.checkWarehouse(e,h.productFilter.warehouses)}}},yt={class:"row q-mb-md q-gutter-md"},_t={class:"col-3"},pt={class:"col-3"},St=k("div",{class:"q-pa-md"},"No products",-1),bt=k("div",{class:"text-center"},"ADD TO CART",-1),kt=k("div",{class:"text-center"},"Cancel",-1),wt={key:2},Tt={key:3},Ct={key:4},Pt={key:5},Dt=["innerHTML"],Qt={key:6},qt={key:7},Lt={key:8},xt={key:1},Ot={key:9},Ft={key:1},Ht={key:10},Nt=k("div",{class:"text-h6"},null,-1),Vt=["src"],Bt=k("div",{class:"text-h6"},"Add to your cart",-1);function Et(e,a,c,s,m,u){return l(),v(nt,{padding:"",class:"q-pb-none"},{default:o(()=>[k("div",yt,[k("div",_t,[i(ze,{filled:"",type:"search",label:"Search",modelValue:s.cart.productFilter.search,"onUpdate:modelValue":[a[1]||(a[1]=n=>s.cart.productFilter.search=n),a[2]||(a[2]=n=>u.setFilter())],onClear:a[3]||(a[3]=n=>u.resetFilter("search"))},{prepend:o(()=>[i(A,{name:"search"})]),append:o(()=>[i(A,{name:"close",onClick:a[0]||(a[0]=Z(n=>u.resetFilter("search"),["stop","prevent"])),class:"cursor-pointer"})]),_:1},8,["modelValue"])]),k("div",pt,[i(Ge,{color:"orange",filled:"",options:s.cart.locationOption,label:"Warehouses",modelValue:s.cart.productFilter.warehouses,"onUpdate:modelValue":[a[4]||(a[4]=n=>s.cart.productFilter.warehouses=n),a[5]||(a[5]=n=>u.setFilter())]},null,8,["options","modelValue"])])]),i(de),s.cart.products.length===0?(l(),v(Ye,{key:0,rounded:"",class:"bg-red text-white text-center"},{default:o(()=>[St]),_:1})):(l(),v(Ke,{key:1,flat:"",rows:s.cart.products,columns:s.columns,"row-key":"sn",pagination:s.initialPagination,class:"my-sticky-header-table"},{header:o(n=>[i(ve,{props:n},{default:o(()=>[(l(!0),f(me,null,ce(n.cols,t=>(l(),v(Je,{key:t.name,props:n},{default:o(()=>[B(L(t.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:o(n=>[i(ve,{props:n},{default:o(()=>[(l(!0),f(me,null,ce(n.cols,t=>(l(),v(Xe,{key:t.name,props:n},{default:o(()=>[t.name==="method"&&!t.value.inList&&t.value.released?(l(),v(q,{key:0,color:"red",onClick:Z(p=>u.addToCart(t.value.sn_id),["prevent"])},{default:o(()=>[i(A,{left:"",name:"add"}),bt]),_:2},1032,["onClick"])):t.name==="method"&&t.value.inList&&t.value.released?(l(),v(q,{key:1,color:"red",outline:"",onClick:Z(p=>s.cart.removeItem(t.value.id),["prevent"])},{default:o(()=>[i(A,{left:"",name:"delete"}),kt]),_:2},1032,["onClick"])):t.name==="method"&&!t.value.released?(l(),f("span",wt," -- ")):t.name==="sn"?(l(),f("span",Tt,"#"+L(t.value),1)):t.name==="price"?(l(),f("span",Ct,L(u.checkPrice(t.value)),1)):t.name==="description"?(l(),f("div",Pt,[B(L(u.dotdot(t.value))+" ",1),u.hasContent(t.value)?(l(),v(ut,{key:0},{default:o(()=>[k("div",{innerHTML:t.value},null,8,Dt)]),_:2},1024)):We("",!0)])):t.name==="state"?(l(),f("div",Qt,[t.value!==void 0?(l(),v(Se,{key:0,color:m.productStateColor[t.value],class:"q-pa-sm"},{default:o(()=>[B(L(s.cart.productOptions.productState[t.value]),1)]),_:2},1032,["color"])):(l(),v(Se,{key:1,color:"grey",class:"q-pa-sm"},{default:o(()=>[B("Unknow")]),_:1}))])):t.name==="releaseDate"||t.name==="arriveDate"?(l(),f("span",qt,L(s.cart.formateDate(t.value)),1)):t.name==="specUrl"?(l(),f("div",Lt,[t.value?(l(),v(q,{key:0,"no-caps":"",color:"primary",href:t.value,target:"_blank",label:"Spec.",icon:"description"},null,8,["href"])):(l(),f("span",xt,"--"))])):t.name==="thumb"?(l(),f("div",Ot,[t.value?(l(),v(gt,{key:0,src:t.value,"spinner-color":"white",style:{height:"50px"},onClick:p=>u.enlarge(t.value)},null,8,["src","onClick"])):(l(),f("span",Ft,"--"))])):(l(),f("span",Ht,L(t.value),1))]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),_:1},8,["rows","columns","pagination"])),i(fe,{modelValue:m.enlargeDialog,"onUpdate:modelValue":a[6]||(a[6]=n=>m.enlargeDialog=n)},{default:o(()=>[i(ge,null,{default:o(()=>[i(M,{class:"row items-center q-pb-none"},{default:o(()=>[Nt,i(be),$(i(q,{icon:"close",flat:"",round:"",dense:""},null,512),[[ee]])]),_:1}),i(M,null,{default:o(()=>[k("img",{src:m.enlargeImg},null,8,Vt)]),_:1})]),_:1})]),_:1},8,["modelValue"]),i(fe,{modelValue:s.cart.addCartDialog,"onUpdate:modelValue":a[7]||(a[7]=n=>s.cart.addCartDialog=n)},{default:o(()=>[i(ge,{style:{width:"700px","max-width":"80vw"}},{default:o(()=>[i(M,{class:"row items-center q-pb-none"},{default:o(()=>[Bt,i(be),$(i(q,{icon:"close",flat:"",round:"",dense:""},null,512),[[ee]])]),_:1}),i(M,null,{default:o(()=>[B(" Item Added ")]),_:1}),i(de),i(Ue,{align:"between"},{default:o(()=>[$(i(q,{label:"Checkout More",color:"primary","no-caps":""},null,512),[[ee]]),i(q,{label:"Go To Checkout",color:"red",to:"order_list","no-caps":""})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}var ta=ot(ht,[["render",Et]]);export{ta as default};
