import{aq as e,as as i}from"./index.9f70dbca.js";import{api as o}from"./axios.99985536.js";const l=e("auth",{state:()=>({email:null,isLogin:!1,authData:null}),getters:{getEmail:t=>t.email,getIsLogin:t=>t.isLogin,getAuthData:t=>t.authData},actions:{checkLogin(){this.isLogin?this.router.push({path:"/"}):this.router.push({path:"/auth/login"})},logout(){this.clearData(),this.router.push({path:"/auth/login"})},async login(t){try{const s={params:t};await o.post("/web/session/authenticate",s).then(a=>{console.log(a),a.status===200&&a.data.error?i.create({title:a.data.error.data.message,message:a.data.error.data.message}):(this.isLogin=!0,this.authData=a.data,this.router.push({path:"/"}))})}catch(s){if(s)throw s}},clearData(){this.email=null,this.isLogin=!1,this.authData=null}}});export{l as u};
