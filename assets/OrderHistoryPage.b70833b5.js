import{a as g,b as k,c as v,d as O}from"./QTable.bdf3e8f8.js";import{au as _,t as a,u as c,v as r,j as s,av as n,aw as b,F as u,y,z as d,B as f}from"./index.e2d4a23c.js";import{Q as C}from"./QMenu.eab8e3ca.js";import{Q as B}from"./QPage.c244552f.js";import{u as Q}from"./cart.7330fa57.js";import{_ as w}from"./plugin-vue_export-helper.21dcd24c.js";import"./QList.95af0c5e.js";import"./QMarkupTable.ed65abbd.js";import"./QItem.351d7c69.js";import"./QItemLabel.a2f59cca.js";import"./axios.51180271.js";import"./auth.4817aac0.js";const i=Q(),p=i.productOptions,x={name:"OrderHistoryPage",setup(){return{columns:[{name:"no",label:"Order No.",align:"left",field:"no"},{name:"state",align:"left",label:"State",field:"state",sortable:!0},{name:"status",align:"left",label:"Status",field:"status",sortable:!0},{name:"location",align:"left",label:"Warehouse",field:"location",sortable:!0},{name:"contact",align:"left",label:"Contact Info.",field:"contact"},{name:"method",align:"right",label:"Operation",field:"method"}],cart:i,initialPagination:{sortBy:"desc",rowsPerPage:50}}},data(){return{state:p.state,status:p.warehouseType.list,location:p.location}},methods:{stateBadge(e){return i.colorSchema.type.state},convertMessage(e){return e.field==="state"?this.state[e.value]:e.field==="status"?this.status[e.value]:e.field==="location"?this.location[e.value]:e.value},convertColor(e){return e.value===1?"text-red":"text-blue"},cancelOrder(e){i.cancelOrder(e),_.create({message:"Order Canceled",color:"red"})},confirmedOrder(e){i.confirmOrder(e),_.create({message:"Order Comfirmed",color:"blue"})}}},P={key:2},T={key:3};function S(e,q,N,m,H,l){return a(),c(B,{padding:""},{default:r(()=>[s(k,{flat:"",rows:m.cart.orderHistory,columns:m.columns,"row-key":"name",pagination:m.initialPagination},{header:r(o=>[s(g,{props:o},{default:r(()=>[(a(!0),n(u,null,b(o.cols,t=>(a(),c(v,{key:t.name,props:o},{default:r(()=>[y(d(t.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:r(o=>[s(g,{props:o},{default:r(()=>[(a(!0),n(u,null,b(o.cols,t=>(a(),c(O,{key:t.name,props:o},{default:r(()=>[t.name==="method"?(a(),n(u,{key:0},[s(f,{color:"grey",label:"Detail",class:"q-ma-sm",to:`order_detail/${t.value}`},null,8,["to"]),s(f,{color:"pink",label:"Cancel",class:"q-ma-sm",onClick:h=>l.cancelOrder(t.value)},null,8,["onClick"]),s(f,{color:"blue-9",label:"Confirm",class:"q-ma-sm",onClick:h=>l.confirmedOrder(t.value)},null,8,["onClick"])],64)):t.name==="state"?(a(),c(C,{key:1,class:"q-pa-sm",color:l.stateBadge(t.value)},{default:r(()=>[y(d(l.convertMessage(t)),1)]),_:2},1032,["color"])):t.name==="no"?(a(),n("span",P,"#"+d(t.value),1)):(a(),n("span",T,d(l.convertMessage(t)),1))]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),_:1},8,["rows","columns","pagination"])]),_:1})}var J=w(x,[["render",S]]);export{J as default};
