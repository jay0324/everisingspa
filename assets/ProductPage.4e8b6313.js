import{i as qe,aB as Le,k as re,X as Oe,Y as X,Z as xe,_ as He,r as P,c as y,$ as Fe,a0 as te,a1 as Ve,a2 as Ne,a3 as Ee,w as ae,p as oe,R as se,O as ue,a8 as Ie,h,aa as be,g as ke,l as Te,L as Be,ae as Ae,o as Me,aC as Re,aD as Y,u as i,v as b,x as o,y as w,j as l,aE as A,aF as Z,aG as je,ay as f,az as de,F as ce,aH as me,aI as M,D as $,Q as q,aJ as ge,z as E,C as ze,aK as Ue,A as L,aL as We}from"./index.e5e2f855.js";import{Q as Ge,a as fe,b as Ke,c as Je,d as Xe}from"./QTable.0f70920f.js";import{u as Ye,v as ve,a as Ze,p as he,b as $e,c as et,r as ye,s as tt,d as pe,e as at}from"./QMenu.2ead0301.js";import{Q as Se}from"./QBadge.f2304aab.js";import{Q as rt}from"./QPage.91b9de98.js";import{C as ee}from"./ClosePopup.a1892703.js";import{u as nt}from"./cart.c6f1160b.js";import{u as lt}from"./preference.a37f88d4.js";import{_ as it}from"./plugin-vue_export-helper.21dcd24c.js";import"./QList.c0dcc6ad.js";import"./QMarkupTable.480eb9d7.js";import"./QItem.0fc96797.js";import"./QItemLabel.6f8164f6.js";import"./axios.171c60b1.js";import"./auth.acdb2ef2.js";function ot(){return qe(Le)}var st=re({name:"QTooltip",inheritAttrs:!1,props:{...Ye,...Oe,...X,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...X.transitionShow,default:"jump-down"},transitionHide:{...X.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:ve},self:{type:String,default:"top middle",validator:ve},offset:{type:Array,default:()=>[14,14],validator:Ze},scrollTarget:xe,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...He],setup(e,{slots:a,emit:c,attrs:s}){let m,u;const n=ke(),{proxy:{$q:t}}=n,p=P(null),D=P(!1),H=y(()=>he(e.anchor,t.lang.rtl)),R=y(()=>he(e.self,t.lang.rtl)),S=y(()=>e.persistent!==!0),{registerTick:_,removeTick:O}=Fe(),{registerTimeout:k}=te(),{transitionProps:j,transitionStyle:z}=Ve(e),{localScrollTarget:I,changeScrollEvent:U,unconfigureScrollTarget:W}=$e(e,le),{anchorEl:g,canShow:G,anchorEvents:C}=et({showing:D,configureAnchorEl:Pe}),{show:K,hide:F}=Ne({showing:D,canShow:G,handleShow:T,handleHide:x,hideOnRouteChange:S,processOnMount:!0});Object.assign(C,{delayShow:we,delayHide:Ce});const{showPortal:V,hidePortal:B,renderPortal:r}=Ee(n,p,Qe,"tooltip");if(t.platform.is.mobile===!0){const d={anchorEl:g,innerRef:p,onClickOutside(Q){return F(Q),Q.target.classList.contains("q-dialog__backdrop")&&Be(Q),!0}},J=y(()=>e.modelValue===null&&e.persistent!==!0&&D.value===!0);ae(J,Q=>{(Q===!0?at:ye)(d)}),oe(()=>{ye(d)})}function T(d){V(),_(()=>{u=new MutationObserver(()=>N()),u.observe(p.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),N(),le()}),m===void 0&&(m=ae(()=>t.screen.width+"|"+t.screen.height+"|"+e.self+"|"+e.anchor+"|"+t.lang.rtl,N)),k(()=>{V(!0),c("show",d)},e.transitionDuration)}function x(d){O(),B(),ne(),k(()=>{B(!0),c("hide",d)},e.transitionDuration)}function ne(){u!==void 0&&(u.disconnect(),u=void 0),m!==void 0&&(m(),m=void 0),W(),se(C,"tooltipTemp")}function N(){tt({targetEl:p.value,offset:e.offset,anchorEl:g.value,anchorOrigin:H.value,selfOrigin:R.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function we(d){if(t.platform.is.mobile===!0){pe(),document.body.classList.add("non-selectable");const J=g.value,Q=["touchmove","touchcancel","touchend","click"].map(ie=>[J,ie,"delayHide","passiveCapture"]);ue(C,"tooltipTemp",Q)}k(()=>{K(d)},e.delay)}function Ce(d){t.platform.is.mobile===!0&&(se(C,"tooltipTemp"),pe(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),k(()=>{F(d)},e.hideDelay)}function Pe(){if(e.noParentEvent===!0||g.value===null)return;const d=t.platform.is.mobile===!0?[[g.value,"touchstart","delayShow","passive"]]:[[g.value,"mouseenter","delayShow","passive"],[g.value,"mouseleave","delayHide","passive"]];ue(C,"anchor",d)}function le(){if(g.value!==null||e.scrollTarget!==void 0){I.value=Ie(g.value,e.scrollTarget);const d=e.noParentEvent===!0?N:F;U(I.value,d)}}function De(){return D.value===!0?h("div",{...s,ref:p,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",s.class],style:[s.style,z.value],role:"tooltip"},Te(a.default)):null}function Qe(){return h(be,j.value,De)}return oe(ne),Object.assign(n.proxy,{updatePosition:N}),r}});const ut={ratio:[String,Number]};function dt(e,a){return y(()=>{const c=Number(e.ratio||(a!==void 0?a.value:void 0));return isNaN(c)!==!0&&c>0?{paddingBottom:`${100/c}%`}:null})}const ct=1.7778;var mt=re({name:"QImg",props:{...ut,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:ct},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:a,emit:c}){const s=P(e.initialRatio),m=dt(e,s),u=ke(),{registerTimeout:n,removeTimeout:t}=te(),{registerTimeout:p,removeTimeout:D}=te(),H=y(()=>e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null),R=y(()=>e.errorSrc!==void 0?{src:e.errorSrc,__qerror:!0}:null),S=[P(null),P(H.value)],_=P(0),O=P(!1),k=P(!1),j=y(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),z=y(()=>({width:e.width,height:e.height})),I=y(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition q-img__image--`),U=y(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));function W(){if(D(),e.loadingShowDelay===0){O.value=!0;return}p(()=>{O.value=!0},e.loadingShowDelay)}function g(){D(),O.value=!1}function G({target:r}){Y(u)===!1&&(t(),s.value=r.naturalHeight===0?.5:r.naturalWidth/r.naturalHeight,C(r,1))}function C(r,T){T===1e3||Y(u)===!0||(r.complete===!0?K(r):n(()=>{C(r,T+1)},50))}function K(r){Y(u)!==!0&&(_.value=_.value^1,S[_.value].value=null,g(),r.getAttribute("__qerror")!=="true"&&(k.value=!1),c("load",r.currentSrc||r.src))}function F(r){t(),g(),k.value=!0,S[_.value].value=R.value,S[_.value^1].value=H.value,c("error",r)}function V(r){const T=S[r].value,x={key:"img_"+r,class:I.value,style:U.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...T};return _.value===r?Object.assign(x,{class:x.class+"current",onLoad:G,onError:F}):x.class+="loaded",h("div",{class:"q-img__container absolute-full",key:"img"+r},h("img",x))}function B(){return O.value===!1?h("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},Te(a[k.value===!0?"error":"default"])):h("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},a.loading!==void 0?a.loading():e.noSpinner===!0?void 0:[h(Re,{color:e.spinnerColor,size:e.spinnerSize})])}{let r=function(){ae(()=>e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null,T=>{t(),k.value=!1,T===null?(g(),S[_.value^1].value=H.value):W(),S[_.value].value=T},{immediate:!0})};Ae.value===!0?Me(r):r()}return()=>{const r=[];return m.value!==null&&r.push(h("div",{key:"filler",style:m.value})),S[0].value!==null&&r.push(V(0)),S[1].value!==null&&r.push(V(1)),r.push(h(be,{name:"q-transition--fade"},B)),h("div",{key:"main",class:j.value,style:z.value,role:"img","aria-label":e.alt},r)}}});const gt=h("div",{class:"q-space"});var _e=re({name:"QSpace",setup(){return()=>gt}});const v=nt(),ft=lt(),vt={name:"ProductPage",setup(){return ot(),ft.loaderTrigger("pageLoader"),{columns:[{name:"sn",label:"SN No.",align:"left",field:"sn",sortable:!0},{name:"thumb",label:"Thumb",align:"left",field:"thumb",sortable:!1},{name:"name",label:"Name",align:"left",field:"name",sortable:!0},{name:"description",align:"left",label:"Description",field:"description",sortable:!0},{name:"price",align:"right",label:"Price",field:"price",sortable:!0},{name:"state",align:"right",label:"State",field:"state",sortable:!0},{name:"releaseDate",align:"right",label:"Release Date",field:"releaseDate",sortable:!0},{name:"arriveDate",align:"right",label:"Arrived Date",field:"arriveDate",sortable:!0},{name:"specUrl",align:"right",label:"Spec.",field:"specUrl",sortable:!1},{name:"method",align:"right",label:"Operation",field:"method",sortable:!1}],cart:v,initialPagination:{sortBy:"desc",rowsPerPage:50}}},data(){return{defaultLocation:0,productStateColor:{reserved:"orange",inquiry:"blue"},enlargeDialog:!1,enlargeImg:""}},async mounted(){v.locationOption.length===0&&await v.getWarehouseList(),v.productFilter.warehouses==null&&(v.productFilter.warehouses=v.locationOption[0]),v.getProductList()},methods:{setFilter(){v.getProductList()},resetFilter(e){v.getProductList()},checkPrice(e){return e?`${e}`:"--"},dotdot(e,a=10){if(!e)return"--";let c=this.stripHtml(e);return c.length==0||!this.hasContent(e)?"--":c.substr(0,a)+"..."},stripHtml(e){let a=document.createElement("DIV");return a.innerHTML=e,a.textContent||a.innerText||""},hasContent(e){return!(!e||this.stripHtml(e).length==0)},enlarge(e){this.enlargeDialog=!0,this.enlargeImg=e},addToCart(e){v.checkWarehouse(e,v.productFilter.warehouses)}}},ht={class:"row q-mb-md q-gutter-md"},yt={class:"col-3"},pt={class:"col-3"},St=w("div",{class:"text-center"},"ADD TO CART",-1),_t=w("div",{class:"text-center"},"Cancel",-1),bt={key:2},kt={key:3},Tt={key:4},wt={key:5},Ct=["innerHTML"],Pt={key:6},Dt={key:7},Qt={key:8},qt={key:1},Lt={key:9},Ot={key:1},xt={key:10},Ht=w("div",{class:"text-h6"},null,-1),Ft=["src"],Vt=w("div",{class:"text-h6"},"Add to your cart",-1);function Nt(e,a,c,s,m,u){return i(),b(rt,{padding:""},{default:o(()=>[w("div",ht,[w("div",yt,[l(je,{filled:"",type:"search",label:"Search",modelValue:s.cart.productFilter.search,"onUpdate:modelValue":[a[1]||(a[1]=n=>s.cart.productFilter.search=n),a[2]||(a[2]=n=>u.setFilter())],onClear:a[3]||(a[3]=n=>u.resetFilter("search"))},{prepend:o(()=>[l(A,{name:"search"})]),append:o(()=>[l(A,{name:"close",onClick:a[0]||(a[0]=Z(n=>u.resetFilter("search"),["stop","prevent"])),class:"cursor-pointer"})]),_:1},8,["modelValue"])]),w("div",pt,[l(Ge,{color:"orange",filled:"",options:s.cart.locationOption,label:"Warehouses",modelValue:s.cart.productFilter.warehouses,"onUpdate:modelValue":[a[4]||(a[4]=n=>s.cart.productFilter.warehouses=n),a[5]||(a[5]=n=>u.setFilter())]},null,8,["options","modelValue"])])]),l(Ke,{flat:"",rows:s.cart.products,columns:s.columns,"row-key":"sn",pagination:s.initialPagination},{header:o(n=>[l(fe,{props:n},{default:o(()=>[(i(!0),f(ce,null,de(n.cols,t=>(i(),b(Je,{key:t.name,props:n},{default:o(()=>[E(L(t.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:o(n=>[l(fe,{props:n},{default:o(()=>[(i(!0),f(ce,null,de(n.cols,t=>(i(),b(Xe,{key:t.name,props:n},{default:o(()=>[t.name==="method"&&!t.value.inList&&t.value.released?(i(),b(q,{key:0,color:"red",onClick:Z(p=>u.addToCart(t.value.sn_id),["prevent"])},{default:o(()=>[l(A,{left:"",name:"add"}),St]),_:2},1032,["onClick"])):t.name==="method"&&t.value.inList&&t.value.released?(i(),b(q,{key:1,color:"red",outline:"",onClick:Z(p=>s.cart.removeItem(t.value.id),["prevent"])},{default:o(()=>[l(A,{left:"",name:"delete"}),_t]),_:2},1032,["onClick"])):t.name==="method"&&!t.value.released?(i(),f("span",bt," -- ")):t.name==="sn"?(i(),f("span",kt,"#"+L(t.value),1)):t.name==="price"?(i(),f("span",Tt,L(u.checkPrice(t.value)),1)):t.name==="description"?(i(),f("div",wt,[E(L(u.dotdot(t.value))+" ",1),u.hasContent(t.value)?(i(),b(st,{key:0},{default:o(()=>[w("div",{innerHTML:t.value},null,8,Ct)]),_:2},1024)):We("",!0)])):t.name==="state"?(i(),f("div",Pt,[t.value!==void 0?(i(),b(Se,{key:0,color:m.productStateColor[t.value],class:"q-pa-sm"},{default:o(()=>[E(L(s.cart.productOptions.productState[t.value]),1)]),_:2},1032,["color"])):(i(),b(Se,{key:1,color:"grey",class:"q-pa-sm"},{default:o(()=>[E("Unknow")]),_:1}))])):t.name==="releaseDate"||t.name==="arriveDate"?(i(),f("span",Dt,L(s.cart.formateDate(t.value)),1)):t.name==="specUrl"?(i(),f("div",Qt,[t.value?(i(),b(q,{key:0,"no-caps":"",color:"primary",href:t.value,target:"_blank",label:"Spec.",icon:"description"},null,8,["href"])):(i(),f("span",qt,"--"))])):t.name==="thumb"?(i(),f("div",Lt,[t.value?(i(),b(mt,{key:0,src:t.value,"spinner-color":"white",style:{height:"50px"},onClick:p=>u.enlarge(t.value)},null,8,["src","onClick"])):(i(),f("span",Ot,"--"))])):(i(),f("span",xt,L(t.value),1))]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),_:1},8,["rows","columns","pagination"]),l(ge,{modelValue:m.enlargeDialog,"onUpdate:modelValue":a[6]||(a[6]=n=>m.enlargeDialog=n)},{default:o(()=>[l(me,null,{default:o(()=>[l(M,{class:"row items-center q-pb-none"},{default:o(()=>[Ht,l(_e),$(l(q,{icon:"close",flat:"",round:"",dense:""},null,512),[[ee]])]),_:1}),l(M,null,{default:o(()=>[w("img",{src:m.enlargeImg},null,8,Ft)]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(ge,{modelValue:s.cart.addCartDialog,"onUpdate:modelValue":a[7]||(a[7]=n=>s.cart.addCartDialog=n)},{default:o(()=>[l(me,{style:{width:"700px","max-width":"80vw"}},{default:o(()=>[l(M,{class:"row items-center q-pb-none"},{default:o(()=>[Vt,l(_e),$(l(q,{icon:"close",flat:"",round:"",dense:""},null,512),[[ee]])]),_:1}),l(M,null,{default:o(()=>[E(" Item Added ")]),_:1}),l(ze),l(Ue,{align:"between"},{default:o(()=>[$(l(q,{label:"Checkout More",color:"primary","no-caps":""},null,512),[[ee]]),l(q,{label:"Go To Checkout",color:"red",to:"order_list","no-caps":""})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}var Zt=it(vt,[["render",Nt]]);export{Zt as default};
