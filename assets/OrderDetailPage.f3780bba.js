import{b1 as _,t as p,u as Q,v as t,C as l,j as e,B as m,z as n,y as r,ax as h,au as x,av as v,F as V}from"./index.bafb7138.js";import{Q as u,a as d}from"./QItem.4cbdb2a0.js";import{Q as O}from"./QBadge.36b8c564.js";import{Q as y}from"./QItemLabel.4122929c.js";import{Q as k}from"./QList.4df9f763.js";import{Q as D}from"./QMarkupTable.0acb3eda.js";import{Q as w}from"./QPage.4fc2bf2c.js";import{u as B}from"./cart.c0180d09.js";import{d as q}from"./date.1cf23984.js";import{_ as C}from"./plugin-vue_export-helper.21dcd24c.js";import"./axios.53fd7b09.js";const f=B(),S={name:"OrderDetailPage",data(){const i=f.orderHistory.find(g=>g.no===this.$route.params.no),a=f.productOptions,b=i.contactDetail;return{data:i,options:a,editable:b}},methods:{stateBadge(i){return i===1?"red":"blue"},convertTimestamp(i){return q.formatDate(i*1e3,"YYYY/MM/DD")},confirmedOrder(){_.create({message:"\u78BA\u8A8D\u4E0B\u8A02\u5B8C\u6210",color:"blue"})},cancelOrder(){f.cancelOrder(this.data.no),_.create({message:"\u8A02\u55AE\u5DF2\u53D6\u6D88",color:"red"})},updateOrder(){this.data.contactDetail=this.editable,this.data.contact=`${this.editable.name}/${this.editable.tel}`,f.updateOrder(this.data.no,this.data),_.create({message:"\u8CC7\u6599\u66F4\u65B0\u5B8C\u6210",color:"green"})}}},T={class:"full-width",style:{"max-width":"1200px"}},L={class:"q-my-md flex"},M={class:"text-h4 q-ml-md"},N=l("thead",null,[l("tr",null,[l("th",{class:"text-left",width:"100"},"\u7522\u54C1SN"),l("th",{class:"text-left",width:"200"},"\u7522\u54C1\u540D\u7A31"),l("th",{class:"text-left"},"\u7522\u54C1\u63CF\u8FF0"),l("th",{class:"text-right",width:"150"},"\u7522\u54C1\u50F9\u683C (USD)"),l("th",{class:"text-right",width:"100"},"\u6578\u91CF")])],-1),U={class:"text-left"},I={class:"text-left"},Y={class:"text-left"},H=["innerHTML"],P={class:"text-right"},j={class:"text-right"},F={class:"row q-gutter-md q-my-md"};function z(i,a,b,g,s,c){return p(),Q(w,{padding:"",class:"flex justify-center"},{default:t(()=>[l("div",T,[l("div",L,[e(m,{icon:"arrow_back_ios",color:"primary",label:"\u8FD4\u56DE",onClick:a[0]||(a[0]=o=>i.$router.go(-1))}),l("span",M,"#"+n(s.data.no),1)]),e(k,{bordered:"",separator:""},{default:t(()=>[e(u,null,{default:t(()=>[e(d,null,{default:t(()=>[r("\u51FA\u8CA8\u5009\u5EAB: ")]),_:1}),e(d,{side:""},{default:t(()=>[r(n(s.options.location[s.data.location]),1)]),_:1})]),_:1}),e(u,null,{default:t(()=>[e(d,null,{default:t(()=>[r("\u8A02\u8CFC\u65E5\u671F: ")]),_:1}),e(d,{side:""},{default:t(()=>[r(n(c.convertTimestamp(s.data.date.order)),1)]),_:1})]),_:1}),e(u,null,{default:t(()=>[e(d,null,{default:t(()=>[r("\u8A02\u55AE\u985E\u578B: ")]),_:1}),e(d,{side:""},{default:t(()=>[r(n(s.options.type[s.data.type]),1)]),_:1})]),_:1}),e(u,null,{default:t(()=>[e(d,null,{default:t(()=>[r("\u8A02\u55AE\u72C0\u614B: ")]),_:1}),e(d,{side:""},{default:t(()=>[e(O,{class:"q-pa-sm",color:c.stateBadge(s.data.state)},{default:t(()=>[r(n(s.options.state[s.data.state]),1)]),_:1},8,["color"])]),_:1})]),_:1}),e(u,null,{default:t(()=>[e(d,null,{default:t(()=>[r("\u806F\u7D61\u4EBA\u540D\u7A31: ")]),_:1}),e(d,{side:""},{default:t(()=>[e(h,{filled:"",modelValue:s.editable.name,"onUpdate:modelValue":a[1]||(a[1]=o=>s.editable.name=o),dense:""},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:t(()=>[e(d,null,{default:t(()=>[r("\u806F\u7D61\u4EBA\u96FB\u8A71: ")]),_:1}),e(d,{side:""},{default:t(()=>[e(h,{filled:"",modelValue:s.editable.tel,"onUpdate:modelValue":a[2]||(a[2]=o=>s.editable.tel=o),dense:"",class:"align-right"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:t(()=>[e(d,null,{default:t(()=>[e(y,null,{default:t(()=>[r("\u5099\u8A3B:")]),_:1}),e(y,null,{default:t(()=>[e(h,{class:"q-my-sm",filled:"",modelValue:s.editable.message,"onUpdate:modelValue":a[3]||(a[3]=o=>s.editable.message=o),dense:"",type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(D,{flat:"",bordered:"",separator:"cell",class:"q-my-md"},{default:t(()=>[N,l("tbody",null,[(p(!0),x(V,null,v(s.data.order,o=>(p(),x("tr",{key:o},[l("td",U,"#"+n(o.sn),1),l("td",I,n(o.name),1),l("td",Y,[l("div",{innerHTML:o.description},null,8,H)]),l("td",P,"USD$"+n(o.price),1),l("td",j,n(o.amount),1)]))),128))])]),_:1}),l("div",F,[e(m,{class:"col",color:"blue",label:"\u78BA\u8A8D\u4E0B\u8A02",onClick:a[4]||(a[4]=o=>c.confirmedOrder())}),e(m,{class:"col",color:"red",label:"\u53D6\u6D88\u8A02\u55AE",onClick:a[5]||(a[5]=o=>c.cancelOrder())}),e(m,{class:"col",color:"green",label:"\u78BA\u8A8D",onClick:a[6]||(a[6]=o=>c.updateOrder())})])])]),_:1})}var te=C(S,[["render",z]]);export{te as default};
