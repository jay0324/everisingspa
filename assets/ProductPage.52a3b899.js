import{i as Le,aB as Oe,m as re,$ as He,a0 as X,a1 as Ve,a2 as Fe,r as P,j as S,a3 as Ne,a4 as te,a5 as Be,a6 as Ae,a7 as Ee,w as ae,t as oe,W as se,V as ue,ac as Ie,h as y,ae as we,g as Ce,n as Te,O as Me,ai as ze,o as Re,aC as je,aD as Y,x as i,y as v,z as s,A as C,l,aE as I,aF as Z,aG as Ue,G as de,ay as f,az as ce,F as me,aH as ge,aI as M,H as $,Q as q,aJ as fe,B,aK as We,C as x,aL as Ge,aM as Ke}from"./index.becb7b7f.js";import{Q as Je,a as Xe,b as ve,c as Ye,d as Ze}from"./QTable.b7b3cf4b.js";import{Q as $e}from"./QBanner.891ad35d.js";import{u as et,v as he,a as tt,p as ye,b as at,c as rt,r as Se,s as nt,d as pe,e as lt}from"./QMenu.fae933a2.js";import{Q as _e}from"./QBadge.6fd34590.js";import{Q as it}from"./QPage.1a56325f.js";import{C as ee}from"./ClosePopup.c50a3f4c.js";import{u as ot,d as st}from"./cart.e2d969af.js";import{u as ut}from"./preference.03bb9f57.js";import{_ as dt}from"./plugin-vue_export-helper.21dcd24c.js";import"./QList.6a9696f9.js";import"./QMarkupTable.5ecf006c.js";import"./QItem.5f839251.js";import"./QItemLabel.380afe55.js";import"./axios.0f3454b4.js";function ct(){return Le(Oe)}var mt=re({name:"QTooltip",inheritAttrs:!1,props:{...et,...He,...X,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...X.transitionShow,default:"jump-down"},transitionHide:{...X.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:he},self:{type:String,default:"top middle",validator:he},offset:{type:Array,default:()=>[14,14],validator:tt},scrollTarget:Ve,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...Fe],setup(e,{slots:a,emit:d,attrs:o}){let m,u;const n=Ce(),{proxy:{$q:t}}=n,p=P(null),D=P(!1),H=S(()=>ye(e.anchor,t.lang.rtl)),z=S(()=>ye(e.self,t.lang.rtl)),_=S(()=>e.persistent!==!0),{registerTick:b,removeTick:L}=Ne(),{registerTimeout:k}=te(),{transitionProps:R,transitionStyle:j}=Be(e),{localScrollTarget:A,changeScrollEvent:U,unconfigureScrollTarget:W}=at(e,le),{anchorEl:g,canShow:G,anchorEvents:T}=rt({showing:D,configureAnchorEl:Qe}),{show:K,hide:V}=Ae({showing:D,canShow:G,handleShow:w,handleHide:O,hideOnRouteChange:_,processOnMount:!0});Object.assign(T,{delayShow:Pe,delayHide:De});const{showPortal:F,hidePortal:E,renderPortal:r}=Ee(n,p,xe,"tooltip");if(t.platform.is.mobile===!0){const c={anchorEl:g,innerRef:p,onClickOutside(Q){return V(Q),Q.target.classList.contains("q-dialog__backdrop")&&Me(Q),!0}},J=S(()=>e.modelValue===null&&e.persistent!==!0&&D.value===!0);ae(J,Q=>{(Q===!0?lt:Se)(c)}),oe(()=>{Se(c)})}function w(c){F(),b(()=>{u=new MutationObserver(()=>N()),u.observe(p.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),N(),le()}),m===void 0&&(m=ae(()=>t.screen.width+"|"+t.screen.height+"|"+e.self+"|"+e.anchor+"|"+t.lang.rtl,N)),k(()=>{F(!0),d("show",c)},e.transitionDuration)}function O(c){L(),E(),ne(),k(()=>{E(!0),d("hide",c)},e.transitionDuration)}function ne(){u!==void 0&&(u.disconnect(),u=void 0),m!==void 0&&(m(),m=void 0),W(),se(T,"tooltipTemp")}function N(){nt({targetEl:p.value,offset:e.offset,anchorEl:g.value,anchorOrigin:H.value,selfOrigin:z.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function Pe(c){if(t.platform.is.mobile===!0){pe(),document.body.classList.add("non-selectable");const J=g.value,Q=["touchmove","touchcancel","touchend","click"].map(ie=>[J,ie,"delayHide","passiveCapture"]);ue(T,"tooltipTemp",Q)}k(()=>{K(c)},e.delay)}function De(c){t.platform.is.mobile===!0&&(se(T,"tooltipTemp"),pe(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),k(()=>{V(c)},e.hideDelay)}function Qe(){if(e.noParentEvent===!0||g.value===null)return;const c=t.platform.is.mobile===!0?[[g.value,"touchstart","delayShow","passive"]]:[[g.value,"mouseenter","delayShow","passive"],[g.value,"mouseleave","delayHide","passive"]];ue(T,"anchor",c)}function le(){if(g.value!==null||e.scrollTarget!==void 0){A.value=Ie(g.value,e.scrollTarget);const c=e.noParentEvent===!0?N:V;U(A.value,c)}}function qe(){return D.value===!0?y("div",{...o,ref:p,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",o.class],style:[o.style,j.value],role:"tooltip"},Te(a.default)):null}function xe(){return y(we,R.value,qe)}return oe(ne),Object.assign(n.proxy,{updatePosition:N}),r}});const gt={ratio:[String,Number]};function ft(e,a){return S(()=>{const d=Number(e.ratio||(a!==void 0?a.value:void 0));return isNaN(d)!==!0&&d>0?{paddingBottom:`${100/d}%`}:null})}const vt=1.7778;var be=re({name:"QImg",props:{...gt,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:vt},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:a,emit:d}){const o=P(e.initialRatio),m=ft(e,o),u=Ce(),{registerTimeout:n,removeTimeout:t}=te(),{registerTimeout:p,removeTimeout:D}=te(),H=S(()=>e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null),z=S(()=>e.errorSrc!==void 0?{src:e.errorSrc,__qerror:!0}:null),_=[P(null),P(H.value)],b=P(0),L=P(!1),k=P(!1),R=S(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),j=S(()=>({width:e.width,height:e.height})),A=S(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition q-img__image--`),U=S(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));function W(){if(D(),e.loadingShowDelay===0){L.value=!0;return}p(()=>{L.value=!0},e.loadingShowDelay)}function g(){D(),L.value=!1}function G({target:r}){Y(u)===!1&&(t(),o.value=r.naturalHeight===0?.5:r.naturalWidth/r.naturalHeight,T(r,1))}function T(r,w){w===1e3||Y(u)===!0||(r.complete===!0?K(r):n(()=>{T(r,w+1)},50))}function K(r){Y(u)!==!0&&(b.value=b.value^1,_[b.value].value=null,g(),r.getAttribute("__qerror")!=="true"&&(k.value=!1),d("load",r.currentSrc||r.src))}function V(r){t(),g(),k.value=!0,_[b.value].value=z.value,_[b.value^1].value=H.value,d("error",r)}function F(r){const w=_[r].value,O={key:"img_"+r,class:A.value,style:U.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...w};return b.value===r?Object.assign(O,{class:O.class+"current",onLoad:G,onError:V}):O.class+="loaded",y("div",{class:"q-img__container absolute-full",key:"img"+r},y("img",O))}function E(){return L.value===!1?y("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},Te(a[k.value===!0?"error":"default"])):y("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},a.loading!==void 0?a.loading():e.noSpinner===!0?void 0:[y(je,{color:e.spinnerColor,size:e.spinnerSize})])}{let r=function(){ae(()=>e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null,w=>{t(),k.value=!1,w===null?(g(),_[b.value^1].value=H.value):W(),_[b.value].value=w},{immediate:!0})};ze.value===!0?Re(r):r()}return()=>{const r=[];return m.value!==null&&r.push(y("div",{key:"filler",style:m.value})),_[0].value!==null&&r.push(F(0)),_[1].value!==null&&r.push(F(1)),r.push(y(we,{name:"q-transition--fade"},E)),y("div",{key:"main",class:R.value,style:j.value,role:"img","aria-label":e.alt},r)}}});const ht=y("div",{class:"q-space"});var ke=re({name:"QSpace",setup(){return()=>ht}});const h=ot(),yt=ut(),St={name:"ProductPage",setup(){return ct(),yt.loaderTrigger("pageLoader"),{columns:[{name:"thumb",label:"Thumb",align:"left",field:"thumb",sortable:!1},{name:"sn",label:"SN No.",align:"left",field:"sn",sortable:!0},{name:"name",label:"Name",align:"left",field:"name",sortable:!0},{name:"description",align:"left",label:"Description",field:"description",sortable:!0},{name:"price",align:"right",label:"Price",field:"price",sortable:!0},{name:"state",align:"right",label:"State",field:"state",sortable:!0},{name:"releaseDate",align:"right",label:"Release Date",field:"releaseDate",sortable:!0},{name:"arriveDate",align:"right",label:"Arrived Date",field:"arriveDate",sortable:!0},{name:"specUrl",align:"right",label:"Spec.",field:"specUrl",sortable:!1},{name:"method",align:"right",label:"Operation",field:"method",sortable:!1}],cart:h,initialPagination:{sortBy:"desc",rowsPerPage:50}}},data(){return{defaultLocation:0,productStateColor:{reserved:"orange",inquiry:"blue"},enlargeDialog:!1,enlargeImg:""}},async mounted(){h.locationOption.length===0&&await h.getWarehouseList(),h.productFilter.warehouses==null&&(h.productFilter.warehouses=h.locationOption[0]),h.getProductList()},methods:{setFilter(){h.getProductList()},resetFilter(e){h.productFilter[e]=null,h.getProductList()},checkPrice(e){return e?`${e}`:"--"},dotdot(e,a=10){if(!e)return"--";let d=this.stripHtml(e);return d.length==0||!this.hasContent(e)?"--":d.substr(0,a)+"..."},stripHtml(e){let a=document.createElement("DIV");return a.innerHTML=e,a.textContent||a.innerText||""},hasContent(e){return!(!e||this.stripHtml(e).length==0)},enlarge(e){this.enlargeDialog=!0,this.enlargeImg=e},addToCart(e){h.checkWarehouse(e,h.productFilter.warehouses)},checkSn(e){return e?`#${e}`:"--"},setColor(e){let a=Date.now();return st.isValid(e)&&new Date(e)>a?"text-red":""}}},pt={class:"row q-mb-md q-gutter-md"},_t={class:"col-3"},bt={class:"col-3"},kt=C("div",{class:"q-pa-md"},"No products",-1),wt=C("div",{class:"text-center"},"ADD TO CART",-1),Ct=C("div",{class:"text-center"},"Cancel",-1),Tt={key:2},Pt={key:3},Dt={key:4},Qt={key:5},qt=["innerHTML"],xt={key:6},Lt={key:8},Ot={key:1},Ht={key:9},Vt={key:1},Ft={key:10},Nt=C("div",{class:"text-h6"},null,-1),Bt=C("div",{class:"text-h6"},"Add to your cart",-1);function At(e,a,d,o,m,u){return i(),v(it,{padding:"",class:"q-pb-none"},{default:s(()=>[C("div",pt,[C("div",_t,[l(Ue,{filled:"",type:"search",label:"Search",modelValue:o.cart.productFilter.search,"onUpdate:modelValue":[a[1]||(a[1]=n=>o.cart.productFilter.search=n),a[2]||(a[2]=n=>u.setFilter())],onClear:a[3]||(a[3]=n=>u.resetFilter("search"))},{prepend:s(()=>[l(I,{name:"search"})]),append:s(()=>[l(I,{name:"close",onClick:a[0]||(a[0]=Z(n=>u.resetFilter("search"),["stop","prevent"])),class:"cursor-pointer"})]),_:1},8,["modelValue"])]),C("div",bt,[l(Je,{color:"orange",filled:"",options:o.cart.locationOption,label:"Warehouses",modelValue:o.cart.productFilter.warehouses,"onUpdate:modelValue":[a[4]||(a[4]=n=>o.cart.productFilter.warehouses=n),a[5]||(a[5]=n=>u.setFilter())]},null,8,["options","modelValue"])])]),l(de),o.cart.products.length===0?(i(),v($e,{key:0,rounded:"",class:"bg-red text-white text-center"},{default:s(()=>[kt]),_:1})):(i(),v(Xe,{key:1,flat:"",rows:o.cart.products,columns:o.columns,"row-key":"sn",pagination:o.initialPagination,class:"my-sticky-header-table"},{header:s(n=>[l(ve,{props:n},{default:s(()=>[(i(!0),f(me,null,ce(n.cols,t=>(i(),v(Ye,{key:t.name,props:n},{default:s(()=>[B(x(t.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:s(n=>[l(ve,{props:n},{default:s(()=>[(i(!0),f(me,null,ce(n.cols,t=>(i(),v(Ze,{key:t.name,props:n},{default:s(()=>[t.name==="method"&&!t.value.inList&&t.value.released?(i(),v(q,{key:0,color:"red",onClick:Z(p=>u.addToCart(t.value.sn_id),["prevent"])},{default:s(()=>[l(I,{left:"",name:"add"}),wt]),_:2},1032,["onClick"])):t.name==="method"&&t.value.inList&&t.value.released?(i(),v(q,{key:1,color:"red",outline:"",onClick:Z(p=>o.cart.removeItem(t.value.id),["prevent"])},{default:s(()=>[l(I,{left:"",name:"delete"}),Ct]),_:2},1032,["onClick"])):t.name==="method"&&!t.value.released?(i(),f("span",Tt," -- ")):t.name==="sn"?(i(),f("span",Pt,x(u.checkSn(t.value)),1)):t.name==="price"?(i(),f("span",Dt,x(u.checkPrice(t.value)),1)):t.name==="description"?(i(),f("div",Qt,[B(x(u.dotdot(t.value))+" ",1),u.hasContent(t.value)?(i(),v(mt,{key:0},{default:s(()=>[C("div",{innerHTML:t.value},null,8,qt)]),_:2},1024)):Ge("",!0)])):t.name==="state"?(i(),f("div",xt,[t.value!==void 0?(i(),v(_e,{key:0,color:m.productStateColor[t.value],class:"q-pa-sm"},{default:s(()=>[B(x(o.cart.productOptions.productState[t.value]),1)]),_:2},1032,["color"])):(i(),v(_e,{key:1,color:"grey",class:"q-pa-sm"},{default:s(()=>[B("Unknow")]),_:1}))])):t.name==="releaseDate"||t.name==="arriveDate"?(i(),f("span",{key:7,class:Ke(u.setColor(o.cart.formateDate(t.value)))},x(o.cart.formateDate(t.value)),3)):t.name==="specUrl"?(i(),f("div",Lt,[t.value?(i(),v(q,{key:0,"no-caps":"",color:"primary",href:t.value,target:"_blank",icon:"description"},null,8,["href"])):(i(),f("span",Ot,"--"))])):t.name==="thumb"?(i(),f("div",Ht,[t.value?(i(),v(be,{key:0,class:"cursor-pointer",src:t.value,"spinner-color":"white",style:{height:"50px"},fit:"contain",onClick:p=>u.enlarge(t.value)},null,8,["src","onClick"])):(i(),f("span",Vt,"--"))])):(i(),f("span",Ft,x(t.value),1))]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),_:1},8,["rows","columns","pagination"])),l(fe,{modelValue:m.enlargeDialog,"onUpdate:modelValue":a[6]||(a[6]=n=>m.enlargeDialog=n)},{default:s(()=>[l(ge,{style:{width:"700px","max-width":"80vw"}},{default:s(()=>[l(M,{class:"row items-center q-pb-none"},{default:s(()=>[Nt,l(ke),$(l(q,{icon:"close",flat:"",round:"",dense:""},null,512),[[ee]])]),_:1}),l(M,null,{default:s(()=>[l(be,{src:m.enlargeImg,fit:"contain"},null,8,["src"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(fe,{modelValue:o.cart.addCartDialog,"onUpdate:modelValue":a[9]||(a[9]=n=>o.cart.addCartDialog=n)},{default:s(()=>[l(ge,{style:{width:"700px","max-width":"80vw"}},{default:s(()=>[l(M,{class:"row items-center q-pb-none"},{default:s(()=>[Bt,l(ke),$(l(q,{icon:"close",flat:"",round:"",dense:""},null,512),[[ee]])]),_:1}),l(M,null,{default:s(()=>[B(" Item Added ")]),_:1}),l(de),l(We,{align:"between"},{default:s(()=>[$(l(q,{label:"Checkout More",color:"primary","no-caps":"",onClick:a[7]||(a[7]=n=>o.cart.resetAddCartDialog())},null,512),[[ee]]),l(q,{label:"Go To Checkout",color:"red",to:"order_list","no-caps":"",onClick:a[8]||(a[8]=n=>o.cart.resetAddCartDialog())})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}var ea=dt(St,[["render",At]]);export{ea as default};
