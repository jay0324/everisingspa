import{u as t,v as i,x as s,y as c,j as n,aB as p,aC as v,aD as Q,ay as l,az as _,F as h,z as g,A as d,Q as k}from"./index.8e39932e.js";import{Q as C,a as b,b as F,c as w,d as L}from"./QTable.34cb06f4.js";import{Q as y}from"./QBadge.485da644.js";import{Q as S}from"./QPage.7323a822.js";import{u as T}from"./cart.09103fbd.js";import{u as V}from"./preference.8c5d01e0.js";import{_ as x}from"./plugin-vue_export-helper.21dcd24c.js";import"./QList.3f7f1cde.js";import"./QMarkupTable.86482133.js";import"./QItem.87d750a5.js";import"./QItemLabel.a967efb7.js";import"./QMenu.74a15676.js";import"./axios.87b0f64a.js";import"./auth.6b626beb.js";const f=T(),B=V(),N={name:"ProductPage",setup(){return B.loaderTrigger("pageLoader"),{columns:[{name:"sn",label:"SN No.",align:"left",field:"sn",sortable:!0},{name:"name",label:"Name",align:"left",field:"name",sortable:!0},{name:"description",align:"left",label:"Description",field:"description",sortable:!0},{name:"price",align:"right",label:"Price",field:"price",sortable:!0},{name:"state",align:"right",label:"State",field:"state",sortable:!0},{name:"releaseDate",align:"right",label:"Release Date",field:"releaseDate",sortable:!0},{name:"arriveDate",align:"right",label:"Arrived Date",field:"arriveDate",sortable:!0},{name:"method",align:"right",label:"Operation",field:"method",sortable:!1}],cart:f,initialPagination:{sortBy:"desc",rowsPerPage:50}}},data(){return{defaultLocation:0,productStateColor:{reserved:"orange",inquiry:"blue"}}},mounted(){f.getProductList()},methods:{setFilter(){f.getProductList()},resetFilter(u){f.getProductList()},checkPrice(u){return u?`${u}`:"--"}}},q={class:"row q-mb-md q-gutter-md"},A={class:"col-3"},O={class:"col-3"},I=c("div",{class:"text-center"},"ADD TO CART",-1),M=c("div",{class:"text-center"},"Cancel",-1),U={key:2},z={key:3},H={key:4},R=["innerHTML"],W={key:6},j={key:7},E={key:8};function G(u,o,J,r,P,m){return t(),i(S,{padding:""},{default:s(()=>[c("div",q,[c("div",A,[n(Q,{filled:"",type:"search",label:"Search",modelValue:r.cart.productFilter.search,"onUpdate:modelValue":[o[1]||(o[1]=a=>r.cart.productFilter.search=a),o[2]||(o[2]=a=>m.setFilter())],onClear:o[3]||(o[3]=a=>m.resetFilter("search"))},{prepend:s(()=>[n(p,{name:"search"})]),append:s(()=>[n(p,{name:"close",onClick:o[0]||(o[0]=v(a=>m.resetFilter("search"),["stop","prevent"])),class:"cursor-pointer"})]),_:1},8,["modelValue"])]),c("div",O,[n(C,{color:"orange",filled:"",options:r.cart.locationOption,label:"Warehouses",modelValue:r.cart.productFilter.warehouses,"onUpdate:modelValue":[o[4]||(o[4]=a=>r.cart.productFilter.warehouses=a),o[5]||(o[5]=a=>m.setFilter())]},null,8,["options","modelValue"])])]),n(F,{flat:"",rows:r.cart.products,columns:r.columns,"row-key":"sn",pagination:r.initialPagination},{header:s(a=>[n(b,{props:a},{default:s(()=>[(t(!0),l(h,null,_(a.cols,e=>(t(),i(w,{key:e.name,props:a},{default:s(()=>[g(d(e.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:s(a=>[n(b,{props:a},{default:s(()=>[(t(!0),l(h,null,_(a.cols,e=>(t(),i(L,{key:e.name,props:a},{default:s(()=>[e.name==="method"&&!e.value.inList&&e.value.released?(t(),i(k,{key:0,color:"red",onClick:v(D=>r.cart.checkWarehouse(e.value.sn_id,r.cart.productFilter.warehouses),["prevent"])},{default:s(()=>[n(p,{left:"",name:"add"}),I]),_:2},1032,["onClick"])):e.name==="method"&&e.value.inList&&e.value.released?(t(),i(k,{key:1,color:"red",outline:"",onClick:v(D=>r.cart.removeItem(e.value.id),["prevent"])},{default:s(()=>[n(p,{left:"",name:"delete"}),M]),_:2},1032,["onClick"])):e.name==="method"&&!e.value.released?(t(),l("span",U," -- ")):e.name==="sn"?(t(),l("span",z,"#"+d(e.value),1)):e.name==="price"?(t(),l("span",H,d(m.checkPrice(e.value)),1)):e.name==="description"?(t(),l("div",{key:5,innerHTML:e.value},null,8,R)):e.name==="state"?(t(),l("div",W,[e.value!==void 0?(t(),i(y,{key:0,color:P.productStateColor[e.value],class:"q-pa-sm"},{default:s(()=>[g(d(r.cart.productOptions.productState[e.value]),1)]),_:2},1032,["color"])):(t(),i(y,{key:1,color:"grey",class:"q-pa-sm"},{default:s(()=>[g("Unknow")]),_:1}))])):e.name==="releaseDate"||e.name==="arriveDate"?(t(),l("span",j,d(r.cart.formateDate(e.value)),1)):(t(),l("span",E,d(e.value),1))]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),_:1},8,["rows","columns","pagination"])]),_:1})}var de=x(N,[["render",G]]);export{de as default};
