import{W as s}from"./index.760df02b.js";import{api as h}from"./axios.57b779d5.js";const u=s("auth",{state:()=>({email:null,isLogin:!1,authData:null}),getters:{getEmail:t=>t.email,getIsLogin:t=>t.isLogin,getAuthData:t=>t.authData},actions:{checkLogin(){this.isLogin?this.router.push({path:"/"}):this.router.push({path:"/auth/login"})},logout(){this.clearData(),this.router.push({path:"/auth/login"})},async login(t){try{const a={params:t};await h.post("/web/session/authenticate",a).then(i=>{i.status===200&&(this.isLogin=!0,this.authData=i.data,this.router.push({path:"/"}))})}catch(a){if(a)throw a}},clearData(){this.email=null,this.isLogin=!1,this.authData=null}}});export{u};
